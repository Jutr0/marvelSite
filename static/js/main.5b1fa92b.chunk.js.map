{"version":3,"sources":["components/Comics.tsx","utils/utilities.tsx","utils/firebase.tsx","components/Comment.tsx","components/Comments.tsx","components/Events.tsx","components/Stories.tsx","pages/Details.tsx","components/Character.tsx","utils/useDropdown.tsx","components/SearchParams.tsx","components/NotFound.tsx","pages/LogIn.tsx","pages/Register.tsx","components/LogOut.tsx","components/Authentication.tsx","pages/App.tsx","index.tsx"],"names":["Comics","props","comics","map","step","name","className","length","collectIdsAndDocs","doc","id","data","provider","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","GoogleAuthProvider","auth","getAuth","signInWithGoogle","a","signInWithPopup","console","log","logout","signOut","db","getFirestore","createUserProfileDocument","user","additionalData","userRef","uid","getDoc","exists","displayName","email","photoURL","createdAt","Date","toISOString","setDoc","error","getUserDocument","userDocument","likeUpdate","commentId","currentUser","docRef","snapshot","commentRef","commentSnapshot","likes","merge","deleteDoc","Comment","description","userImage","useState","setLikes","useEffect","unsubscribe","onSnapshot","snap","tempLikes","style","backgroundImage","backgroundColor","onClick","Comments","comment","setComment","comments","setComments","q","query","collection","orderBy","where","tempComments","docs","addComment","tempComment","addDoc","character","maxLength","value","rows","placeholder","onChange","e","target","onBlur","preventDefault","Events","events","Stories","stories","axios","require","Details","setCharacter","loading","setLoading","get","detailsId","params","ts","apikey","hash","then","response","results","catch","thumbnail","src","path","extension","alt","items","undefined","Character","this","bgImg","to","Component","useDropdown","label","defaultState","options","state","updateState","replace","toLowerCase","htmlFor","disabled","item","SearchParams","loadCharacters","setParams","setResponse","characters","setCharacters","setName","OrderByDropdown","pages","setPages","page","PageDropdown","updatePage","useRef","current","nameStartsWith","order","totalCharacters","total","Math","floor","limit","tabPages","Array","i","toString","offset","Number","trim","params2","NotFound","LogIn","LogInPage","Register","LogOut","Authentication","display","App","unsubscribeFromAuth","componentDidMount","onAuthStateChanged","userAuth","setState","componentWillUnmount","default","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5b1fa92b.chunk.js","sourcesContent":["import { IAdditionalData } from \"../utils/customTypes\";\n\nconst Comics = (props:{comics:IAdditionalData[]}) => {\n  const comics = props.comics.map((step) => (\n    <span key={step.name}>{step.name}</span>\n  ));\n\n  return (\n    <div className=\"comicsSection section\">\n      <div className=\"navBar\">\n        <h1>COMICS</h1>\n      </div>\n      <div className=\"comicsList displayList\">\n        {comics.length === 0 ? <h1>Not Found any comics</h1> : comics}\n      </div>\n    </div>\n  );\n};\n\nexport default Comics;\n","import { DocumentData, QueryDocumentSnapshot } from \"firebase/firestore\";\n\nexport const collectIdsAndDocs = (doc:DocumentData) => ({ id: doc.id, ...doc.data() });\n","import { initializeApp } from \"firebase/app\";\nimport {\n  doc,\n  getFirestore,\n  getDoc,\n  collection,\n  setDoc,\n  deleteDoc,\n  addDoc,\n} from \"firebase/firestore\";\nimport {\n  GoogleAuthProvider,\n  signInWithPopup,\n  getAuth,\n  signOut,\n  User,\n} from \"firebase/auth\";\nimport { IUser, UID } from \"./customTypes\";\n\nexport const firebaseApp = initializeApp({\n  apiKey: \"AIzaSyAqe1wm9R99hXRGs121wcWAEixHWkbfClk\",\n  authDomain: \"marvelgeng-a24d2.firebaseapp.com\",\n  projectId: \"marvelgeng-a24d2\",\n  storageBucket: \"marvelgeng-a24d2.appspot.com\",\n  messagingSenderId: \"1041025244999\",\n  appId: \"1:1041025244999:web:acaf88fc964f716fef7662\",\n});\n\nconst provider = new GoogleAuthProvider();\nexport const auth = getAuth();\nexport const signInWithGoogle = async () => {\n  await signInWithPopup(auth, provider);\n  console.log({ auth });\n};\nexport const logout = async () => await signOut(auth);\n\nexport const db = getFirestore();\n\nexport const createUserProfileDocument = async (user:User|null, additionalData?: Object) => {\n  if (user === null) return;\n\n  const userRef = doc(db, \"users\", user.uid);\n\n  const snapshot = await getDoc(userRef);\n\n  if (!snapshot.exists) {\n    const {displayName, email, photoURL} = user;\n    const createdAt = new Date().toISOString;\n    try {\n      await setDoc(userRef, {\n        displayName,\n        email,\n        photoURL,\n        createdAt,\n        ...additionalData,\n      });\n    } catch (e) {\n      console.error(\"error: \", e);\n    }\n  }\n\n  return getUserDocument(user.uid);\n};\n\nexport const getUserDocument = async (uid:UID) => {\n  if (!uid) return null;\n  try {\n    const userDocument = await getDoc(doc(db, \"users\", uid));\n\n    return { uid, ...userDocument.data() };\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nexport const likeUpdate = async (commentId:string) => {\n  if(auth.currentUser !== null){\n\n  const uid = await auth.currentUser.uid;\n  if (!uid || !commentId) return null;\n  try {\n    const docRef = doc(db, \"comments\", commentId, \"userLikes\", uid);\n    const snapshot = await getDoc(docRef);\n    const commentRef = doc(db, \"comments\", commentId);\n    const commentSnapshot = await getDoc(commentRef);\n    if (!snapshot.exists()) {\n      await setDoc(doc(db, \"comments\", commentId, \"userLikes\", uid), {\n        uid,\n      });\n      await setDoc(\n        commentRef,\n        { likes: commentSnapshot.data()?.likes + 1 },\n        { merge: true }\n      );\n    } else {\n      await deleteDoc(docRef);\n      await setDoc(\n        commentRef,\n        { likes: commentSnapshot.data()?.likes - 1 },\n        { merge: true }\n      );\n    }\n  } catch (e) {\n    console.error(e);\n  }\n}\n};\n","import { doc, getDoc, onSnapshot } from \"@firebase/firestore\";\nimport { useEffect, useState } from \"react\";\nimport { ICommentProps } from \"../utils/customTypes\";\nimport { db, likeUpdate } from \"../utils/firebase\";\nimport { DocumentData, FirebaseFirestore } from \"firebase/firestore\";\n\nconst Comment = (props:ICommentProps) => {\n  const { uid, description, displayName, userImage, id } = props;\n  const [likes, setLikes] = useState<number>(0);\n\n  useEffect(() => {\n    const unsubscribe = onSnapshot(doc(db, \"comments\", id), (snap:DocumentData) => {\n      const tempLikes:number = snap.data().likes;\n      setLikes(tempLikes);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  return (\n    <div className=\"comment\">\n      <div className=\"commentUserProfile\">\n        <div\n          className=\"commentImg\"\n          style={{\n            backgroundImage: `url(${\n              userImage ? userImage : \"https://via.placeholder.com/150\"\n            })`,\n            backgroundColor: \"white\",\n          }}\n        ></div>\n        <span>{displayName}</span>\n      </div>\n      <span className=\"commentText\">{description}</span>\n      <div className=\"commentBtns\">\n        <span>{likes ? likes : \"0\"}</span>\n        <button onClick={() => likeUpdate(id)}>&#128151;</button>\n        <button>&#128172;</button>\n      </div>\n      <div className=\"titanic\"></div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import { useEffect, useState } from \"react\";\nimport {\n  collection,\n  addDoc,\n  where,\n  onSnapshot,\n  query,\n  orderBy,\n} from \"firebase/firestore\";\n\nimport { collectIdsAndDocs } from \"../utils/utilities\";\nimport Comment from \"./Comment\";\nimport { auth, db } from \"../utils/firebase\";\n\nconst Comments = (props:{id:number}) => {\n  const [comment, setComment] = useState<string>(\"\");\n  const [comments, setComments] = useState<JSX.Element[] | null>(null);\n\n  useEffect(() => {\n    const q = query(\n      collection(db, \"comments\"),\n      orderBy(\"createdAt\", \"desc\"),\n      where(\"character\", \"==\", + props.id)\n    );\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const tempComments = snapshot.docs.map(collectIdsAndDocs).map((step) => {\n        return <Comment key={step.id} {...step} />;\n      });\n\n      setComments(tempComments);\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n  const addComment = async () => {\n    try {\n      if(auth.currentUser !== null){\n        \n      const tempComment = comment;\n      setComment(\"\");\n      const docRef = await addDoc(collection(db, \"comments\"), {\n        description: tempComment,\n        uid: auth.currentUser.uid,\n        displayName: auth.currentUser.displayName,\n        likes: 0,\n        comments: 0,\n        userImage: auth.currentUser.photoURL,\n        createdAt: new Date().toISOString(),\n        character: +props.id,\n      });\n    }\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  };\n\n  return (\n    <div className=\"commentsSection section\">\n      <div className=\"navBar\">\n        <h1>comments</h1>\n      </div>\n      <div className=\"addCommentContainer\">\n        <div\n          className=\"addCommentImg\"\n          style={{\n            backgroundImage: `url(${\n              auth.currentUser !== null\n                ? auth.currentUser.photoURL\n                : \"https://via.placeholder.com/150\"\n            })`,\n            backgroundColor: \"white\",\n          }}\n        ></div>\n        <form>\n          <textarea\n            className=\"addCommentTextarea\"\n            maxLength={100}\n            value={comment}\n            rows={1}\n            placeholder=\"Add Public Comment...\"\n            onChange={(e) => setComment(e.target.value)}\n            onBlur={(e) => setComment(e.target.value)}\n          ></textarea>\n          <button\n            className=\"addCommentBtn\"\n            onClick={(e) => {\n              e.preventDefault();\n              addComment();\n            }}\n          >\n            Comment\n          </button>\n        </form>\n      </div>\n      <div className=\"comments\">{comments}</div>\n    </div>\n  );\n};\n\nexport default Comments;\n","import { IAdditionalData } from \"../utils/customTypes\";\n\nconst Events = (props:{events:IAdditionalData[]}) => {\n  const events = props.events.map((step) => <span>{step.name}</span>);\n\n  return (\n    <div className=\"eventsSection section\">\n      <div className=\"navBar\">\n        <h1>events</h1>\n      </div>\n      <div className=\"eventsList displayList\">\n        {events.length === 0 ? <h1>Not Found any events</h1> : events}\n      </div>\n    </div>\n  );\n};\n\nexport default Events;\n","import { IAdditionalData } from \"../utils/customTypes\";\n\nconst Stories = (props:{stories:IAdditionalData[]}) => {\n  const stories = props.stories.map((step) => (\n    <span key={step.name}>{step.name}</span>\n  ));\n\n  return (\n    <div className=\"storiesSection section\">\n      <div className=\"navBar\">\n        <h1>stories</h1>\n      </div>\n      <div className=\"storiesList displayList\">\n        {stories.length === 0 ? <h1>Not Found any stories</h1> : stories}\n      </div>\n    </div>\n  );\n};\n\nexport default Stories;\n","import { useEffect, useState } from \"react\";\nimport Comics from \"../components/Comics\";\nimport Comments from \"../components/Comments\";\nimport Events from \"../components/Events\";\nimport Stories from \"../components/Stories\";\nimport { ISearchParams, IApiResponse, ICharacterData } from \"../utils/customTypes\";\nimport \"../css/style.css\";\nimport { RouteComponentProps } from \"@reach/router\";\n\nconst axios = require(\"axios\");\n\ninterface IProps extends RouteComponentProps {\n  params: ISearchParams;\n  detailsId?: number;\n}\n\nconst Details = (props: IProps) => {\n  const [character, setCharacter] = useState<ICharacterData | null>(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    axios\n      .get(\n        `https://gateway.marvel.com/v1/public/characters/${ props.detailsId }`,\n        {\n          params: {\n            ts: props.params.ts,\n            apikey: props.params.apikey,\n            hash: props.params.hash,\n          },\n        }\n      )\n      .then((response: IApiResponse) => {\n        //console.log(response);\n        //console.log(\"detailsResponse\");\n        setCharacter(response.data.data.results[0]);\n      })\n      .catch((error: Error) => {\n        console.log(error);\n        console.log(\"detailsError\");\n      })\n      .then(() => {\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (loading) {\n    return <h1>Loading...</h1>;\n  } else if (character === null) {\n    return <h1>Not Found</h1>;\n  } else {\n    const { name, thumbnail, comics, description, events, stories } = character;\n    return (\n      <div id=\"container\">\n        <div className=\"deciption\">\n          <img src={`${ thumbnail.path }.${ thumbnail.extension }`} alt={name} />\n          <div className=\"detailsDescription\">\n            <h1>{name}</h1>\n            <br />\n            <hr />\n            <br />\n            {description}\n          </div>\n        </div>\n        <Comics comics={comics.items} />\n        <Stories stories={stories.items} />\n        <Events events={events.items} />\n        {props.detailsId !== undefined ? <Comments id={props.detailsId} /> : null}\n      </div>\n    );\n  }\n};\n\nexport default Details;\n","import { Component } from \"react\";\nimport { Link } from \"@reach/router\";\nimport \"../css/main.css\";\nimport {ICharacter} from \"../utils/customTypes\"\n\nclass Character extends Component <ICharacter,any>{\n\n  render() {\n    const { name, thumbnail, id } = this.props;\n    const bgImg = `url(\"${thumbnail.path}.${thumbnail.extension}\")`;\n    return (\n      <Link to={`/details/${id}`} className=\"result\">\n        <div className=\"resultImg\" style={{ backgroundImage: bgImg }}></div>\n        <span className=\"resultName\">{name}</span>\n      </Link>\n    );\n  }\n}\n\nexport default Character;\n","import React, { useState } from \"react\";\n\nconst useDropdown = (\n  label: string,\n  defaultState: string,\n  options: string[]\n):[string, Function, React.Dispatch<React.SetStateAction<string>>] => {\n  const [state, updateState] = useState<string>(defaultState);\n  const id: string = `use-dropdown-${label.replace(\" \", \"\").toLowerCase()}`;\n  const Dropdown = ():JSX.Element => (\n    <label htmlFor={id} id={id + \"-label\"}>\n      {label}\n      <select\n        id={id}\n        value={state}\n        onChange={(e) => updateState(e.target.value)}\n        onBlur={(e) => updateState(e.target.value)}\n        disabled={!options.length}\n      >\n        {options.map((item) => (\n          <option key={item} value={item}>\n            {item}\n          </option>\n        ))}\n      </select>\n    </label>\n  );\n  return [state, Dropdown, updateState ];\n};\n\nexport default useDropdown;\n","import { useState, useEffect, useRef } from \"react\";\nimport Character from \"./Character\";\nimport useDropdown from \"../utils/useDropdown\";\nimport { ISearchParams, IApiResponse, ICharacterData, IOrderBy,} from \"../utils/customTypes\";\nimport \"../css//main.css\";\nimport { RouteComponentProps } from \"@reach/router\";\n\nconst axios = require(\"axios\");\n\ninterface IProps extends RouteComponentProps {\n  params:ISearchParams;\n}\n\nconst SearchParams = (props:IProps) => {\n  const [params, setParams] = useState<ISearchParams>(props.params);\n  const [response, setResponse] = useState<IApiResponse | null>(null);\n  const [characters, setCharacters] = useState<ICharacterData[] | null | []>([]);\n  const [name, setName] = useState<string>(\"\");\n  const [orderBy, OrderByDropdown] = useDropdown(\n    \"Order By \",\n    \"Name Ascending\",\n    [\n      \"Name Ascending\",\n      \"Name Descending\",\n      \"Modified Ascending\",\n      \"Modified Descending\",\n    ]\n  );\n  const [pages, setPages] = useState<string[]>([]);\n  const [page, PageDropdown, updatePage] = useDropdown(\"Page \", \"1\", pages);\n\n  let loadCharacters;\n  const loading = useRef<Boolean>(true);\n  //let loading = true;\n\n  useEffect(() => {\n    loading.current = true;\n    setCharacters(null);\n    axios\n      .get(\"http://gateway.marvel.com/v1/public/characters\", {\n        params: params,\n      })\n      .then((response:IApiResponse) => {\n        console.log(response);\n        setResponse(response);\n        setCharacters(response.data.data.results);\n        console.log(\"response\");\n      })\n      .catch((error:Object) => {\n        console.log(error);\n        console.log(\"error\");\n      });\n  }, [params]);\n\n  useEffect(() => {\n    updatePage(\"1\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [params.nameStartsWith]);\n\n  useEffect(() => {\n    let order:IOrderBy;\n    switch (orderBy) {\n      case \"Name Descending\":\n        order = \"-name\";\n        break;\n      case \"Modified Ascending\":\n        order = \"modified\";\n        break;\n      case \"Modified Descending\":\n        order = \"-modified\";\n        break;\n      default:\n        order = \"name\";\n    }\n    setParams({ ...params, ...{ orderBy: order } });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [orderBy]);\n\n  useEffect(() => {\n    loading.current = true;\n    if (response !== null) {\n      const totalCharacters:number = response.data.data.total;\n      let pages:number = Math.floor(totalCharacters  / params.limit);\n\n      if (pages * params.limit < totalCharacters) {\n        pages += 1;\n      }\n      let tabPages = Array(pages);\n      for (let i = 1; i <= pages; i++) {\n        tabPages[i - 1] = i.toString();\n      }\n      setPages(tabPages);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [response, params.limit]);\n\n  useEffect(() => {\n    loading.current = true;\n\n    const offset = (Number(page) - 1) * params.limit;\n    setParams({ ...params, ...{ offset: offset } });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  if (characters !== null && characters.length > 0) {\n    loading.current = false;\n\n    loadCharacters = characters.map((step:ICharacterData) => {\n      return (\n        <Character\n          key={step.id}\n          name={step.name}\n          description={step.description}\n          thumbnail={step.thumbnail}\n          id={step.id}\n        />\n      );\n    });\n  } else if (characters !== null && characters.length === 0) {\n    loading.current = false;\n    loadCharacters = <h1>Not Found</h1>;\n  }\n  if (loading.current === true) {\n    loadCharacters = <h1>Loading...</h1>;\n  }\n\n  return (\n    <div id=\"container\">\n      <div className=\"searchBar\">\n        <form>\n          <PageDropdown />\n          <label htmlFor=\"name\">\n            Name\n            <input\n              id=\"name\"\n              placeholder=\"Name\"\n              value={name}\n              onChange={(e) => {\n                e.preventDefault();\n                setName(e.target.value);\n              }}\n              onBlur={(e) => {\n                e.preventDefault();\n                setName(e.target.value);\n              }}\n            ></input>\n          </label>\n          <OrderByDropdown />\n          <button\n            id=\"searchButton\"\n            value=\"Search\"\n            onClick={(e) => {\n              e.preventDefault();\n              if (\n                params.nameStartsWith === name ||\n                (params.nameStartsWith === undefined &&\n                  (name === null || name.trim() === \"\"))\n              ) {\n              } else if (name === null || name.trim() === \"\") {\n                let params2 = params;\n                \n                delete params2.nameStartsWith;\n                setParams({ ...params2 });\n              } else {\n                setParams({\n                  ...params,\n                  ...{ nameStartsWith: name },\n                });\n              }\n            }}\n          >\n            Search\n          </button>\n        </form>\n      </div>\n      <div className=\"results\">{loadCharacters}</div>\n    </div>\n  );\n};\n\nexport default SearchParams;\n","import { RouteComponentProps } from \"@reach/router\";\n\nconst NotFound = (props:RouteComponentProps) => {\n  return <h1>I know nothing John Snow</h1>;\n};\nexport default NotFound;\n","import { Link, RouteComponentProps } from \"@reach/router\";\n\nimport { signInWithGoogle } from \"../utils/firebase\";\n\nconst LogIn = () => {\n  return (\n    <Link to=\"/login\">\n      <h2>Log In</h2>\n    </Link>\n  );\n};\nexport default LogIn;\n\nexport const LogInPage = (props:RouteComponentProps) => {\n  return <button onClick={signInWithGoogle}>Log in via Google</button>;\n};\n","import { Link } from \"@reach/router\";\n\nconst Register = () => {\n  return (\n    <Link to=\"/\">\n      <h2>Register</h2>\n    </Link>\n  );\n};\nexport default Register;\n","import { Link } from \"@reach/router\";\nimport { logout } from \"../utils/firebase\";\n\nconst LogOut = () => {\n  return (\n    <Link to=\"/\">\n      <h2 onClick={logout}>Log Out</h2>\n    </Link>\n  );\n};\nexport default LogOut;\n","import LogIn from \"../pages/LogIn\";\nimport Register from \"../pages/Register\";\nimport { IUser } from \"../utils/customTypes\";\nimport LogOut from \"./LogOut\";\n\nconst Authentication = ({ user, loading }:{user:undefined | IUser | null, loading:boolean}):JSX.Element | null => {\n  //console.log(\"its ressdssnderisngs Broos\");\n  if (loading) return null;\n  //console.log(\"auth user: \", user );\n  const display = user ? (\n    <LogOut />\n  ) : (\n    [<LogIn key=\"login\" />, <Register key=\"register\" />]\n  );\n  return <div className=\"authenticationButtons\">{display}</div>;\n};\n\nexport default Authentication;\n","import { Component } from \"react\";\nimport { Link, Router } from \"@reach/router\";\n\nimport Details from \"./Details\";\nimport SearchParams from \"../components/SearchParams\";\nimport NotFound from \"../components/NotFound\";\nimport Authentication from \"../components/Authentication\";\nimport { LogInPage } from \"./LogIn\";\nimport { auth, createUserProfileDocument } from \"../utils/firebase\";\nimport { Unsubscribe } from \"firebase/auth\";\nimport { ISearchParams, IUser } from \"../utils/customTypes\";\n\nconst params:ISearchParams = {\n  ts: 1,\n  apikey: \"0496dd1c25a6148054d36d77a65cfe14\",\n  hash: \"1bc050ca4051e97e6e076c02cd39b807\",\n  limit: 20,\n  offset: 0,\n  orderBy: \"name\",\n};\nclass App extends Component <{},{user: IUser | null | undefined, loading: boolean}>{\n  state = {\n    user: null,\n    loading: true,\n  };\n\n  unsubscribeFromAuth:Unsubscribe | null = null;\n\n  componentDidMount = async () => {\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n      const user = await createUserProfileDocument(userAuth);\n      this.setState({ user, loading: false });\n      console.log(\"app user: \", { user });\n    });\n  };\n  componentWillUnmount = () => {\n    if(this.unsubscribeFromAuth!==null)\n    this.unsubscribeFromAuth();\n  };\n\n  render() {\n    return [\n      <div className=\"navBarMain\">\n        <Link key=\"linkToHome\" to=\"/\">\n          <h1 id=\"homeButton\">HOME</h1>\n        </Link>\n        <Authentication user={this.state.user} loading={this.state.loading}/>\n      </div>,\n      <div className=\"container\" key=\"container\">\n        <Router>\n          <NotFound default/>\n          <LogInPage path=\"/login\" />\n          <SearchParams path=\"/\" params={params} />\n          <Details path=\"/details/:detailsId\" params={params} />\n        </Router>\n      </div>,\n    ];\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./css/index.css\";\nimport App from \"./pages/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}